<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
        <!-- Подключаем Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Подключаем Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

    {% load static %}
  <!-- Main CSS File -->
  <link href="{% static 'profile/user-tasks.css' %}" rel="stylesheet">
</head>
<body>
<div class="task-filters text-center my-4 ">
    {% if request.user == profile.user %}
  <button class="btn  me-2 filter-btn active" data-status="new">Активные</button>
    <button class="btn  me-2 filter-btn" data-status="in_progress">В процессе</button>
    <button class="btn  filter-btn" data-status="completed">Завершенные</button>
  {% endif %}
</div>

<!-- Секции с заданиями -->
<div id="job-sections">
  <div class="job-section" data-status="new">
    {% include 'profile/tasks_list.html' with jobs=new_jobs empty_message="Нет активных заданий." %}
  </div>
  <div class="job-section d-none" data-status="in_progress">
    {% include 'profile/tasks_list.html' with jobs=in_progress_jobs empty_message="Нет заданий в процессе." %}
  </div>
  <div class="job-section d-none" data-status="completed">
    {% include 'profile/tasks_list.html' with jobs=completed_jobs empty_message="Нет завершённых заданий." %}
  </div>
</div>


<script>
  const buttons = document.querySelectorAll('.filter-btn');
  const sections = document.querySelectorAll('.job-section');

  buttons.forEach(button => {
    button.addEventListener('click', () => {
      const selected = button.getAttribute('data-status');

      // Активная кнопка
      buttons.forEach(btn => btn.classList.remove('active'));
      button.classList.add('active');

      // Показ нужной секции
      sections.forEach(section => {
        if (section.getAttribute('data-status') === selected) {
          section.classList.remove('d-none');
        } else {
          section.classList.add('d-none');
        }
      });
    });
  });
</script>


</body>
</html>